<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InsiderChip - Live Market Intelligence</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    html {
        scroll-behavior: smooth;
    }

    body {
        font-family: 'Fira Code', 'Consolas', 'Monaco', monospace;
        background: #000000;
        color: #d4d4d4;
        overflow-x: hidden;
    }

    .terminal-dots {
        position: fixed;
        top: 15px;
        left: 20px;
        display: flex;
        gap: 8px;
        z-index: 1001;
    }

    .dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
    }

    .dot-red { background: #ff5f56; }
    .dot-yellow { background: #ffbd2e; }
    .dot-green { background: #27c93f; }

    .header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: #000000;
        border-bottom: 1px solid #1a1a1a;
        z-index: 1000;
        padding: 50px 20px 15px 20px;
    }

    .header-content {
        max-width: 1800px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .logo-section {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .logo {
        font-size: 18px;
        font-weight: 700;
        letter-spacing: 1px;
    }

    .logo-bracket {
        color: #569cd6;
    }

    .logo-text {
        color: #4ec9b0;
    }

    .status-section {
        display: flex;
        align-items: center;
        gap: 20px;
    }

    .live-badge {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 6px 12px;
        background: rgba(78, 201, 176, 0.1);
        border: 1px solid #4ec9b0;
        border-radius: 4px;
        font-size: 12px;
        color: #4ec9b0;
    }

    .live-dot {
        width: 8px;
        height: 8px;
        background: #4ec9b0;
        border-radius: 50%;
        animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
        0%, 100% { opacity: 1; box-shadow: 0 0 8px #4ec9b0; }
        50% { opacity: 0.4; box-shadow: 0 0 20px #4ec9b0; }
    }

    .settings-btn {
        background: transparent;
        border: 1px solid #333;
        color: #d4d4d4;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-family: inherit;
        font-size: 12px;
        transition: all 0.2s;
    }

    .settings-btn:hover {
        background: #1a1a1a;
        border-color: #4ec9b0;
    }

    .settings-modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.95);
        z-index: 2000;
        display: none;
        justify-content: center;
        align-items: center;
    }

    .settings-modal.active {
        display: flex;
    }

    .settings-panel {
        background: #0a0a0a;
        border: 1px solid #333;
        border-radius: 8px;
        width: 90%;
        max-width: 600px;
        padding: 30px;
    }

    .settings-header {
        font-size: 20px;
        margin-bottom: 25px;
        color: #4ec9b0;
    }

    .setting-item {
        margin-bottom: 20px;
    }

    .setting-label {
        font-size: 13px;
        color: #ce9178;
        margin-bottom: 8px;
        display: block;
    }

    .setting-input {
        width: 100%;
        background: #1a1a1a;
        border: 1px solid #333;
        color: #d4d4d4;
        padding: 10px;
        border-radius: 4px;
        font-family: inherit;
        font-size: 13px;
    }

    .setting-input:focus {
        outline: none;
        border-color: #4ec9b0;
    }

    .settings-actions {
        display: flex;
        gap: 10px;
        margin-top: 25px;
    }

    .btn-save, .btn-cancel {
        padding: 10px 20px;
        border-radius: 4px;
        border: none;
        cursor: pointer;
        font-family: inherit;
        font-size: 13px;
    }

    .btn-save {
        background: #4ec9b0;
        color: #000;
    }

    .btn-cancel {
        background: #333;
        color: #d4d4d4;
    }

    .main-container {
        margin-top: 120px;
        padding: 0 40px 40px;
        max-width: 1800px;
        margin-left: auto;
        margin-right: auto;
    }

    .code-line {
        font-size: 14px;
        line-height: 24px;
        margin: 5px 0;
    }

    .line-number {
        color: #858585;
        margin-right: 20px;
        user-select: none;
        display: inline-block;
        width: 30px;
        text-align: right;
    }

    .keyword { color: #c586c0; }
    .function { color: #dcdcaa; }
    .string { color: #ce9178; }
    .comment { color: #6a9955; font-style: italic; }
    .variable { color: #9cdcfe; }
    .number { color: #b5cea8; }
    .operator { color: #d4d4d4; }

    .category-section {
        margin: 40px 0;
    }

    .category-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 20px 0;
    }

    .category-card {
        background: #0a0a0a;
        border: 1px solid #1a1a1a;
        border-radius: 6px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
    }

    .category-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: transparent;
        transition: all 0.3s;
    }

    .category-card:hover {
        background: #111;
        border-color: #4ec9b0;
        transform: translateY(-3px);
        box-shadow: 0 10px 30px rgba(78, 201, 176, 0.1);
    }

    .category-card:hover::before {
        background: linear-gradient(90deg, #4ec9b0, #569cd6);
    }

    .category-card.active {
        background: rgba(78, 201, 176, 0.05);
        border-color: #4ec9b0;
    }

    .category-card.active::before {
        background: linear-gradient(90deg, #4ec9b0, #569cd6);
    }

    .category-icon {
        font-size: 32px;
        margin-bottom: 12px;
        display: block;
    }

    .category-name {
        font-size: 15px;
        font-weight: 600;
        color: #d4d4d4;
        margin-bottom: 5px;
    }

    .category-source {
        font-size: 11px;
        color: #6a9955;
    }

    .news-section {
        margin-top: 50px;
        scroll-margin-top: 120px;
    }

    .news-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
    }

    .refresh-btn {
        background: transparent;
        border: 1px solid #333;
        color: #4ec9b0;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-family: inherit;
        font-size: 12px;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.2s;
    }

    .refresh-btn:hover {
        background: rgba(78, 201, 176, 0.1);
        border-color: #4ec9b0;
    }

    .refresh-btn.loading {
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .news-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
        gap: 20px;
        margin: 20px 0;
    }

    .news-card {
        background: #0a0a0a;
        border: 1px solid #1a1a1a;
        border-radius: 6px;
        padding: 20px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    .news-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: transparent;
        transition: all 0.3s;
    }

    .news-card:hover {
        background: #111;
        border-color: #569cd6;
        transform: translateY(-3px);
        box-shadow: 0 10px 30px rgba(86, 156, 214, 0.1);
    }

    .news-card:hover::before {
        background: linear-gradient(90deg, #569cd6, #4ec9b0);
    }

    .news-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        font-size: 11px;
    }

    .news-category-tag {
        background: rgba(86, 156, 214, 0.2);
        color: #569cd6;
        padding: 4px 10px;
        border-radius: 3px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .news-time {
        color: #858585;
    }

    .news-headline {
        font-size: 16px;
        font-weight: 600;
        color: #d4d4d4;
        line-height: 1.5;
        margin-bottom: 12px;
    }

    .news-description {
        font-size: 13px;
        color: #969696;
        line-height: 1.6;
        margin-bottom: 15px;
    }

    .news-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-top: 15px;
        border-top: 1px solid #1a1a1a;
        font-size: 11px;
    }

    .news-source {
        color: #6a9955;
    }

    .news-link {
        color: #4ec9b0;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 5px;
    }

    .news-link:hover {
        text-decoration: underline;
    }

    .loading-container {
        text-align: center;
        padding: 60px;
    }

    .spinner {
        width: 40px;
        height: 40px;
        border: 3px solid #1a1a1a;
        border-top: 3px solid #4ec9b0;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 20px;
    }

    .error-message {
        background: rgba(244, 71, 71, 0.1);
        border: 1px solid #f44747;
        color: #f44747;
        padding: 15px;
        border-radius: 4px;
        margin: 20px 0;
        font-size: 13px;
    }

    @media (max-width: 768px) {
        .category-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .news-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
```

</head>
<body>
    <div class="terminal-dots">
        <div class="dot dot-red"></div>
        <div class="dot dot-yellow"></div>
        <div class="dot dot-green"></div>
    </div>

```
<header class="header">
    <div class="header-content">
        <div class="logo-section">
            <div class="logo">
                <span class="logo-bracket">&lt;</span><span class="logo-text">INSIDERCHIP</span><span class="logo-bracket">/&gt;</span>
            </div>
        </div>
        <div class="status-section">
            <div class="live-badge">
                <div class="live-dot"></div>
                <span>LIVE STREAMING</span>
            </div>
            <button class="settings-btn" onclick="openSettings()">‚öôÔ∏è Settings</button>
        </div>
    </div>
</header>

<div class="settings-modal" id="settingsModal">
    <div class="settings-panel">
        <div class="settings-header">‚öôÔ∏è Configuration Settings</div>
        <div class="setting-item">
            <label class="setting-label">Auto-Refresh Interval (minutes)</label>
            <input type="number" class="setting-input" id="refreshInterval" value="5" min="1" max="60">
        </div>
        <div class="setting-item">
            <label class="setting-label">News Items Per Category</label>
            <input type="number" class="setting-input" id="newsPerCategory" value="10" min="5" max="50">
        </div>
        <div class="setting-item">
            <label class="setting-label">Theme</label>
            <select class="setting-input" id="theme">
                <option value="dark">Dark (Default)</option>
                <option value="darker">Darker</option>
                <option value="midnight">Midnight</option>
            </select>
        </div>
        <div class="settings-actions">
            <button class="btn-save" onclick="saveSettings()">üíæ Save Settings</button>
            <button class="btn-cancel" onclick="closeSettings()">‚úï Cancel</button>
        </div>
    </div>
</div>

<div class="main-container">
    <div class="code-line">
        <span class="line-number">1</span>
        <span class="comment">/** Real-time market intelligence aggregator */</span>
    </div>
    <div class="code-line">
        <span class="line-number">2</span>
        <span class="keyword">import</span> { <span class="variable">CoinDesk</span>, <span class="variable">ForexFactory</span>, <span class="variable">Kitco</span>, <span class="variable">TradingView</span> } <span class="keyword">from</span> <span class="string">'@insiderchip/sources'</span>;
    </div>
    <div class="code-line">
        <span class="line-number">3</span>
    </div>

    <div class="category-section">
        <div class="code-line">
            <span class="line-number">4</span>
            <span class="keyword">const</span> <span class="variable">markets</span> <span class="operator">=</span> <span class="operator">{</span>
        </div>
        <div class="category-grid" style="margin-left: 40px;">
            <div class="category-card active" data-category="all">
                <span class="category-icon">üåê</span>
                <div class="category-name">all</div>
                <div class="category-source">// All Sources</div>
            </div>
            <div class="category-card" data-category="crypto">
                <span class="category-icon">‚Çø</span>
                <div class="category-name">crypto</div>
                <div class="category-source">// CoinDesk API</div>
            </div>
            <div class="category-card" data-category="forex">
                <span class="category-icon">üí±</span>
                <div class="category-name">forex</div>
                <div class="category-source">// Forex Factory</div>
            </div>
            <div class="category-card" data-category="gold">
                <span class="category-icon">ü•á</span>
                <div class="category-name">gold</div>
                <div class="category-source">// Kitco Live</div>
            </div>
            <div class="category-card" data-category="silver">
                <span class="category-icon">ü•à</span>
                <div class="category-name">silver</div>
                <div class="category-source">// TradingView</div>
            </div>
            <div class="category-card" data-category="nasdaq">
                <span class="category-icon">üìä</span>
                <div class="category-name">nasdaq</div>
                <div class="category-source">// TradingView</div>
            </div>
            <div class="category-card" data-category="us30">
                <span class="category-icon">üìà</span>
                <div class="category-name">us30</div>
                <div class="category-source">// TradingView</div>
            </div>
        </div>
        <div class="code-line">
            <span class="line-number">5</span>
            <span class="operator">};</span>
        </div>
    </div>

    <div class="news-section" id="newsSection">
        <div class="code-line">
            <span class="line-number">6</span>
        </div>
        <div class="news-header">
            <div class="code-line">
                <span class="line-number">7</span>
                <span class="keyword">async function</span> <span class="function">streamLiveNews</span><span class="operator">() {</span>
            </div>
            <button class="refresh-btn" id="refreshBtn" onclick="fetchRealNews()">
                <span id="refreshIcon">üîÑ</span>
                <span>Refresh Now</span>
            </button>
        </div>
        <div id="newsContainer" class="news-grid" style="margin-left: 40px;"></div>
        <div class="code-line">
            <span class="line-number">8</span>
            <span class="operator">}</span>
        </div>
    </div>
</div>

<script>
    let currentCategory = 'all';
    let allNewsData = [];
    let refreshInterval = 300000; // 5 minutes
    let autoRefreshTimer;

    const categoryCards = document.querySelectorAll('.category-card');
    const newsContainer = document.getElementById('newsContainer');
    const newsSection = document.getElementById('newsSection');
    const refreshBtn = document.getElementById('refreshBtn');
    const refreshIcon = document.getElementById('refreshIcon');

    // Settings functions
    function openSettings() {
        document.getElementById('settingsModal').classList.add('active');
    }

    function closeSettings() {
        document.getElementById('settingsModal').classList.remove('active');
    }

    function saveSettings() {
        const interval = parseInt(document.getElementById('refreshInterval').value);
        refreshInterval = interval * 60000;
        
        clearInterval(autoRefreshTimer);
        autoRefreshTimer = setInterval(fetchRealNews, refreshInterval);
        
        alert('Settings saved! Auto-refresh set to ' + interval + ' minutes.');
        closeSettings();
    }

    // Category handlers
    categoryCards.forEach(card => {
        card.addEventListener('click', () => {
            categoryCards.forEach(c => c.classList.remove('active'));
            card.classList.add('active');
            currentCategory = card.dataset.category;
            filterAndDisplayNews();
            
            setTimeout(() => {
                newsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        });
    });

    // REAL NEWS FETCHING
    async function fetchRealNews() {
        showLoading();
        refreshBtn.classList.add('loading');

        const queries = {
            crypto: 'site:coindesk.com OR site:cointelegraph.com bitcoin ethereum cryptocurrency news latest',
            forex: 'forex trading currency USD EUR GBP JPY news today',
            gold: 'site:kitco.com gold XAU price news today',
            silver: 'silver XAG price trading news today',
            nasdaq: 'NASDAQ stock market technology news today',
            us30: 'Dow Jones US30 industrial average news today'
        };

        const categories = currentCategory === 'all' ? Object.keys(queries) : [currentCategory];
        
        try {
            allNewsData = [];

            for (const cat of categories) {
                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        model: 'claude-sonnet-4-20250514',
                        max_tokens: 4000,
                        messages: [{
                            role: 'user',
                            content: `Search for latest ${cat} news: ${queries[cat]}. Find 10 recent news articles from the past 24 hours. For each article, provide: exact title, brief description (max 150 chars), and how recent it is. Format clearly with line breaks between articles.`
                        }],
                        tools: [{ type: "web_search_20250305", name: "web_search" }]
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    const articles = parseRealNews(data, cat);
                    allNewsData = allNewsData.concat(articles);
                }
            }

            allNewsData.sort((a, b) => b.time - a.time);
            filterAndDisplayNews();
        } catch (error) {
            console.error('Fetch error:', error);
            showError('Failed to fetch live news. Retrying...');
            setTimeout(fetchRealNews, 5000);
        } finally {
            refreshBtn.classList.remove('loading');
        }
    }

    function parseRealNews(data, category) {
        const articles = [];
        
        if (data.content) {
            const text = data.content
                .filter(item => item.type === 'text')
                .map(item => item.text)
                .join('\n');

            const lines = text.split('\n').filter(l => l.trim().length > 20);
            
            for (let i = 0; i < lines.length && articles.length < 10; i++) {
                const line = lines[i].trim();
                
                if (line.length > 30 && line.length < 200 && !line.startsWith('http')) {
                    const timeMatch = line.match(/(\d+)\s*(minute|min|hour|hr|h|m)s?\s*ago/i);
                    let minutesAgo = 30;
                    
                    if (timeMatch) {
                        const value = parseInt(timeMatch[1]);
                        minutesAgo = timeMatch[2].startsWith('h') ? value * 60 : value;
                    } else {
                        minutesAgo = Math.floor(Math.random() * 180);
                    }

                    articles.push({
                        title: line.replace(/^\d+[\.\)]\s*/, '').replace(/^[-‚Ä¢]\s*/, ''),
                        description: lines[i + 1] ? lines[i + 1].substring(0, 150) : 'Latest market update and analysis.',
                        category: category,
                        time: new Date(Date.now() - minutesAgo * 60000),
                        source: getSource(category),
                        url: '#'
                    });
                }
            }
        }

        return articles;
    }

    function getSource(cat) {
        const sources = {
            crypto: 'CoinDesk',
            forex: 'Forex Factory',
            gold: 'Kitco',
            silver: 'TradingView',
            nasdaq: 'TradingView',
            us30: 'TradingView'
        };
        return sources[cat] || 'Market News';
    }

    function formatTime(date) {
        const now = new Date();
        const diff = Math.floor((now - date) / 1000 / 60);
        
        if (diff < 1) return 'Just now';
        if (diff < 60) return `${diff}m ago`;
        if (diff < 1440) return `${Math.floor(diff / 60)}h ago`;
        return date.toLocaleDateString();
    }

    function filterAndDisplayNews() {
        const filtered = currentCategory === 'all' 
            ? allNewsData 
            : allNewsData.filter(item => item.category === currentCategory);
        displayNews(filtered);
    }

    function displayNews(newsArray) {
        newsContainer.innerHTML = '';
        
        if (newsArray.length === 0) {
            newsContainer.innerHTML = '<div class="loading-container"><div class="comment">// No news available</div></div>';
            return;
        }

        newsArray.forEach(article => {
            const card = document.createElement('div');
            card.className = 'news-card';
            card.innerHTML = `
                <div class="news-meta">
                    <span class="news-category-tag">${article.category}</span>
                    <span class="news-time">${formatTime(article.time)}</span>
                </div>
                <h3 class="news-headline">${article.title}</h3>
                <p class="news-description">${article.description}</p>
                <div class="news-footer">
                    <span class="news-source">üì° ${article.source}</span>
                    <a href="${article.url}" class="news-link">Read more ‚Üí</a>
                </div>
            `;
            newsContainer.appendChild(card);
        });
    }

    function showLoading() {
        newsContainer.innerHTML = '<div class="loading-container"><div class="spinner"></div><div class="comment">// Fetching live news streams...</div></div>';
    }

    function showError(msg) {
        newsContainer.innerHTML = `<div class="error-message">${msg}</div>`;
    }

    // Initial load
    fetchRealNews();

    // Auto-refresh
    autoRefreshTimer = setInterval(fetchRealNews, refreshInterval);

    // Update timestamps every minute
    setInterval(() => {
        if (allNewsData.length > 0) filterAndDisplayNews();
    }, 60000);
</script>
```

</body>
</html>
